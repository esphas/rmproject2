(this.webpackJsonpproject=this.webpackJsonpproject||[]).push([[0],[,,function(e,t,a){e.exports={button:"edit_button__3-Suh",input:"edit_input__oGBXS",inputTitle:"edit_inputTitle__1yLl0",resultText:"edit_resultText__UKlVT"}},function(e,t,a){e.exports={body:"temp_body__MyHKY",main:"temp_main__1E4FE",list:"temp_list__1ppqS",content:"temp_content__3yiUu",listMain:"temp_listMain__3Wj2Z",listTab:"temp_listTab__1ZcpX"}},function(e,t,a){e.exports={body:"list_body__3VjNP",title:"list_title__1U1yx",item:"list_item__3BN1d",tag:"list_tag__1NXsb"}},,,,,,function(e,t,a){e.exports={head:"header_head__3-wJP"}},function(e,t,a){e.exports=a.p+"static/media/banner.4c5d3caa.jpg"},function(e,t,a){e.exports={body:"site_body__j8RYy"}},function(e,t,a){e.exports={body:"rule_body__1wH_W"}},function(e,t,a){e.exports=a(21)},,,,,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(8),r=a.n(n),l=(a(19),a(0)),c=a.n(l),u=a(6),i=a.n(u),o=a(9),m=a(1),s=function(e){var t=Object(l.useState)("load"),a=Object(m.a)(t,2),n=a[0],r=a[1],c=Object(l.useState)(null),u=Object(m.a)(c,2),s=u[0],E=u[1];return Object(l.useEffect)((function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.success||(t.success=function(e){console.log(e)}),t.fail||(t.fail=function(e){console.error(e)});var a=t.success,n=t.fail,r=function(){a=function(){},n=function(){}},l=function(){var t=Object(o.a)(i.a.mark((function t(){var r,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e,{method:"GET",headers:{"Content-Type":"application/json"}});case 3:if((r=t.sent).ok){t.next=6;break}return t.abrupt("return",n({code:r.status,message:r.statusText,time:(new Date).toGMTString(),url:e}));case 6:return t.next=8,r.json();case 8:l=t.sent,a(l),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),n({message:t.t0.message,url:e,time:(new Date).toGMTString()});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}();return l(),r}(e,{success:function(e){E(e),r("success")},fail:function(e){E(e),r("fail")}})}),[e]),{result:s,state:n}},E=c.a.createContext(null),p=function(){var e=window.location.hash;if(!e.startsWith("#!"))return{page:"index"};var t=e.split("?"),a=(e=(e=Object(m.a)(t,1)[0]).slice(2,e.length).split("/")).shift();return e.length>0&&""===e[e.length-1]&&e.pop(),{page:a,param:e}},d=function(e){var t=e.children,a=Object(l.useState)(p()),n=Object(m.a)(a,2),r=n[0],u=n[1];return Object(l.useEffect)((function(){var e=function(){return u(p())};return window.addEventListener("hashchange",e,!1),function(){return window.removeEventListener("hashchange",e)}}),[]),c.a.createElement(E.Provider,{value:r},t)},f=function(){return Object(l.useContext)(E)},v=function(e){var t=e.error,a=e.title;return c.a.createElement("div",null,c.a.createElement("div",null,a),c.a.createElement("pre",null,JSON.stringify(t,null,2)))},g=a(10),b=a.n(g),h=a(11),_=a.n(h),j=function(){return c.a.createElement("div",{className:b.a.head,style:{backgroundImage:"url(".concat(_.a,")")}},c.a.createElement("h1",null,c.a.createElement("span",null,"RPG\u5236\u4f5c\u5927\u5e08"),"\u6388\u6743\u7d20\u6750\u63a8\u5e7f\u8ba1\u5212"))},y=function(){return c.a.createElement(c.a.Fragment,null,"Loading...")},k=function(e){var t=e.param;return c.a.createElement(c.a.Fragment,null,t[0]?c.a.createElement("p",null,t[0]):c.a.createElement("br",null))},x=function(e){var t=e.param,a=t[0],n=t[1];return a?(n||(n=a),c.a.createElement("p",null,c.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},a))):null},O=function(e){var t=e.param;return c.a.createElement("ul",null,t.map((function(e,t){return c.a.createElement("li",{key:t},e)})))},N=function(e){var t=e.param;return c.a.createElement("p",null,c.a.createElement("a",{href:"#!rule/".concat(t[0])},c.a.createElement("img",{alt:t[1],src:"./media/rule/".concat(t[2],".jpg")})))},w=function(e){var t=e.content;return t&&Array.isArray(t)?c.a.createElement(c.a.Fragment,null,t.map((function(e,t){if(!e)return null;var a=e.type,n=e.param||[];return"text"===a?c.a.createElement(k,{key:t,param:n}):"link"===a?c.a.createElement(x,{key:t,param:n}):"list"===a?c.a.createElement(O,{key:t,param:n}):"ruleImage"===a?c.a.createElement(N,{key:t,param:n}):c.a.createElement("p",{key:t},"Unknow type: ",a)}))):null},C=function(e){var t=function(t,a){var n=e[a.type];if(n)return n(t,a.data);throw new Error("Reducer Missing!")},a=c.a.createContext(null);return{Component:function(e){var n=e.param,r=e.children,u=Object(l.useReducer)(t,n,(function(e){return t(null,{type:"init",data:e})})),i=Object(m.a)(u,2),o=i[0],s=i[1],E=Object(l.useCallback)((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s({type:e,data:t})}),[s]);return c.a.createElement(a.Provider,{value:{state:o,dispatch:E}},r)},useRedux:function(){return Object(l.useContext)(a)}}}({init:function(e,t){return{rule:t.rule,richText:t.richText}}}),T=(C.Component,C.useRedux,a(4)),S=a.n(T),F=function(e){var t=e.site;return c.a.createElement("div",{className:S.a.item},c.a.createElement("a",{href:"#!site/".concat(t.id),className:S.a.title},t.name),c.a.createElement("div",null,t.category.map((function(e,t){return c.a.createElement("p",{className:S.a.tag,key:t},e,"\u7d20\u6750")}))))},M=function(){var e=s("./api/site.json");return c.a.createElement(c.a.Fragment,null,c.a.createElement(j,null),c.a.createElement("div",{className:S.a.body},"fail"===e.state&&c.a.createElement(v,{title:"get site fail",error:e.result}),"load"===e.state&&c.a.createElement(y,null),"success"===e.state&&c.a.createElement(c.a.Fragment,null,e.result.map((function(e){return c.a.createElement(F,{key:e.id,site:e})})))))},P=a(5),G=a(2),R=a.n(G),J=function(e){var t=e.title,a=e.value,n=e.onChange;return c.a.createElement("div",null,c.a.createElement("div",{className:R.a.inputTitle},t),c.a.createElement("input",{className:R.a.input,type:"text",value:a||"",onChange:function(e){return n(e.target.value)}}))},L=function(e){var t=e.closeEdit,a=e.data,n=Object(l.useState)(!0),r=Object(m.a)(n,2),u=r[0],i=r[1],o=Object(l.useState)((function(){var e={id:void 0,ruleParse:void 0};return Object(P.a)(Object(P.a)({},a),e)})),s=Object(m.a)(o,2),E=s[0],p=s[1],d=Object(l.useCallback)((function(e,t){p((function(a){var n={};return n[e]=t,Object(P.a)(Object(P.a)({},a),n)}))}),[]);return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:R.a.button,onClick:t},"\u653e\u5f03\u7f16\u8f91"),u&&c.a.createElement(c.a.Fragment,null,c.a.createElement(J,{title:"\u7ad9\u957f",value:E.owner,onChange:function(e){return d("owner",e)}}),c.a.createElement(J,{title:"\u7ad9\u70b9\u5730\u5740",value:E.url,onChange:function(e){return d("url",e)}}),c.a.createElement(J,{title:"\u7d20\u6750\u5730\u5740",value:E.url2,onChange:function(e){return d("url2",e)}}),c.a.createElement(J,{title:"\u89c4\u7ea6\u539f\u6587",value:E.url3,onChange:function(e){return d("url3",e)}}),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("div",{className:R.a.button,onClick:function(){return i(!1)}},"\u63d0\u4ea4\u4fee\u6539")),!u&&c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:R.a.button,onClick:function(){return i(!0)}},"\u7ee7\u7eed\u7f16\u8f91"),c.a.createElement("textarea",{className:R.a.resultText,value:JSON.stringify(E,null,2),onClick:function(e){return e.target.select()},readOnly:!0}),c.a.createElement("a",{className:R.a.button,href:"".concat("https://github.com/miaowm5/rmproject2","/edit/master/site/").concat(a.id,".json"),target:"_blank",rel:"noopener noreferrer"},"\u63d0\u4ea4\u5230 Github")))},B=function(e){var t=e.openEdit;return c.a.createElement("div",{className:R.a.button,onClick:t},"\u7f16\u8f91\u6587\u7ae0")},I=a(12),U=a.n(I),W=function(e){var t=e.data;return c.a.createElement("div",null,t.logo&&c.a.createElement("div",null,c.a.createElement("img",{src:"./media/site/".concat(t.logo),alt:"logo"})),c.a.createElement("p",null,"\u7ad9\u70b9\u540d\u79f0\uff1a",t.name),c.a.createElement("p",null,"\u7ad9\u957f\uff1a",t.owner),c.a.createElement("p",null,"\u7ad9\u70b9\u5730\u5740\uff1a",c.a.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},t.url)),c.a.createElement("p",null,"\u8bed\u8a00\uff1a",t.language.join("\u3001")),c.a.createElement("p",null,"\u5899\uff1f\uff1a",t.gfw?"\u6709":"\u65e0"),c.a.createElement("p",null,"\u7d20\u6750\u5185\u5bb9\uff1a",t.category.map((function(e){return"".concat(e,"\u7d20\u6750")})).join("\u3001")),c.a.createElement("p",null,"\u7d20\u6750\u5730\u5740\uff1a",c.a.createElement("a",{href:t.url2,target:"_blank",rel:"noopener noreferrer"},t.url2)),c.a.createElement("p",null,"\u7d20\u6750\u5229\u7528\u89c4\u7ea6\uff1a"),c.a.createElement("div",null,c.a.createElement("p",null,"\u539f\u6587\uff1a",c.a.createElement("a",{href:t.url3,target:"_blank",rel:"noopener noreferrer"},t.url3)),c.a.createElement(w,{content:t.ruleParse}),c.a.createElement("p",null,"\uff08\u7ffb\u8bd1By ",t.author," \u786e\u8ba4\u65f6\u95f4 ",t.updateTime,"\uff09")),t.comment.length>0&&c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,"\u5907\u6ce8\uff1a"),c.a.createElement(w,{content:t.comment})))},D=function(e){var t=e.data,a=Object(l.useState)(!1),n=Object(m.a)(a,2),r=n[0],u=n[1];return r?c.a.createElement(L,{closeEdit:function(){return u(!1)},data:t}):c.a.createElement(c.a.Fragment,null,c.a.createElement(W,{data:t}),c.a.createElement(B,{openEdit:function(){return u(!0)}}))},H=function(e){var t=e.id,a=s("./api/site/".concat(t,".json"));return c.a.createElement("div",null,c.a.createElement(j,null),c.a.createElement("div",{className:U.a.body},"fail"===a.state&&c.a.createElement(v,{title:"get site fail",error:a.result}),"load"===a.state&&c.a.createElement(y,null),"success"===a.state&&c.a.createElement(D,{data:a.result})))},X=function(e){var t=e.id;return t?c.a.createElement(H,{id:t}):null},A=a(13),K=a.n(A),V=function(e){var t=e.rule;return t?c.a.createElement("div",null,c.a.createElement("h3",null,t.name),c.a.createElement("img",{src:"./media/rule/".concat(t.image,".jpg"),alt:t.name}),c.a.createElement("div",null,c.a.createElement(w,{content:t.detailParse}))):null},Y=function(e){var t=e.id,a=s("./api/rule/".concat(t,".json"));return c.a.createElement(c.a.Fragment,null,c.a.createElement(j,null),c.a.createElement("div",{className:K.a.body},"fail"===a.state&&c.a.createElement(v,{title:"get site fail",error:a.result}),"load"===a.state&&c.a.createElement(y,null),"success"===a.state&&c.a.createElement(V,{rule:a.result}),c.a.createElement("a",{href:"".concat("https://github.com/miaowm5/rmproject2","/edit/master/rule/").concat(t,".json"),target:"_blank",rel:"noopener noreferrer"},"\u5728 github \u4e0a\u7f16\u8f91")))},Z=function(e){var t=e.id;return t?c.a.createElement(Y,{id:t}):null},q=a(3),z=a.n(q),Q=function(e){var t=e.data,a=Object(l.useState)("3e26fe_"),n=Object(m.a)(a,2),r=n[0],u=n[1];return c.a.createElement("div",null,c.a.createElement("div",{className:z.a.listTab},c.a.createElement("div",{onClick:function(){return u("3b5924_")}},"\u4e3b\u7ad9"),c.a.createElement("div",{onClick:function(){return u("3e26fe_")}},"\u4ed3\u5e93")),c.a.createElement("div",{className:z.a.listMain},t.map((function(e){return e.permalink.startsWith(r)?c.a.createElement("p",{key:e.permalink},c.a.createElement("a",{href:"#!temp/".concat(e.permalink)},e.title)):null}))))},$=function(e){var t=e.data,a=e.id;if(!a)return null;var n=t.find((function(e){return e.permalink===a}));return n?c.a.createElement("div",{dangerouslySetInnerHTML:{__html:n.content}}):null},ee=function(e){var t=e.data,a=f();return c.a.createElement("div",{className:z.a.main},c.a.createElement("div",{className:z.a.list},c.a.createElement(Q,{data:t})),c.a.createElement("div",{className:z.a.content},c.a.createElement($,{data:t,id:a.param[0]})))},te=function(){var e=s("https://miaowm5.github.io/rmproject/tempData.json");return c.a.createElement(c.a.Fragment,null,c.a.createElement(j,null),c.a.createElement("div",{className:z.a.body},"fail"===e.state&&c.a.createElement(v,{title:"get site fail",error:e.result}),"load"===e.state&&c.a.createElement(y,null),"success"===e.state&&c.a.createElement(ee,{data:e.result})))},ae=function(){var e=f();return"index"===e.page?c.a.createElement(M,{page:1}):"list"===e.page?c.a.createElement(M,{page:e.param[0]}):"site"===e.page?c.a.createElement(X,{id:e.param[0]}):"rule"===e.page?c.a.createElement(Z,{id:e.param[0]}):"temp"===e.page?c.a.createElement(te,{param:e.param}):null};r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(d,null,c.a.createElement(ae,null))),document.getElementById("root"))}],[[14,1,2]]]);
//# sourceMappingURL=main.4fef682d.chunk.js.map