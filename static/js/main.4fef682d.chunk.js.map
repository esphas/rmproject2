{"version":3,"sources":["site/edit.module.css","temp/index.module.css","list/index.module.css","component/header/index.module.css","component/header/banner.jpg","site/index.module.css","rule/index.module.css","common/useAPI.js","common/getAPI.js","common/router.jsx","component/error/index.jsx","component/header/index.jsx","component/loading/index.jsx","component/detail/index.jsx","common/reducer.jsx","component/editor/redux/index.js","list/index.jsx","site/edit.jsx","site/index.jsx","rule/index.jsx","temp/index.jsx","app.jsx","index.js"],"names":["module","exports","url","useState","state","setState","result","setResult","useEffect","option","success","data","console","log","fail","error","cancelFunc","request","a","fetch","method","headers","response","ok","code","status","message","statusText","time","Date","toGMTString","json","getAPI","err","RouterCtx","React","createContext","handleHash","hash","window","location","startsWith","page","split","slice","length","shift","pop","param","children","route","setRoute","updateRoute","addEventListener","removeEventListener","Provider","value","useContext","title","JSON","stringify","className","styles","head","style","backgroundImage","banner","Text","Link","name","href","target","rel","List","map","content","key","RuleImage","alt","src","Main","Array","isArray","line","type","reducerFunc","reducer","action","func","Error","ReducerCtx","Component","useReducer","dispatch","dispatchFunc","useCallback","useRedux","init","rule","richText","Site","site","item","id","category","c","i","tag","useAPI","body","Input","onChange","inputTitle","input","e","closeEdit","originData","edit","setEdit","delValue","undefined","ruleParse","setData","update","oldData","changeValue","button","onClick","owner","v","url2","url3","resultText","select","readOnly","process","openEdit","logo","language","join","gfw","author","updateTime","comment","Content","Body","Rule","image","detailParse","RuleMain","setCategory","listTab","listMain","post","permalink","find","dangerouslySetInnerHTML","__html","router","main","list","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4fef682d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"edit_button__3-Suh\",\"input\":\"edit_input__oGBXS\",\"inputTitle\":\"edit_inputTitle__1yLl0\",\"resultText\":\"edit_resultText__UKlVT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"temp_body__MyHKY\",\"main\":\"temp_main__1E4FE\",\"list\":\"temp_list__1ppqS\",\"content\":\"temp_content__3yiUu\",\"listMain\":\"temp_listMain__3Wj2Z\",\"listTab\":\"temp_listTab__1ZcpX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"list_body__3VjNP\",\"title\":\"list_title__1U1yx\",\"item\":\"list_item__3BN1d\",\"tag\":\"list_tag__1NXsb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"head\":\"header_head__3-wJP\"};","module.exports = __webpack_public_path__ + \"static/media/banner.4c5d3caa.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"site_body__j8RYy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"rule_body__1wH_W\"};","\nimport { useEffect, useState } from 'react'\nimport getAPI from './getAPI'\n\nexport default (url)=>{\n  const [state, setState] = useState('load')\n  const [result, setResult] = useState(null)\n  useEffect(()=>getAPI(url, {\n    success: (data)=>{ setResult(data); setState('success') },\n    fail: (err)=>{ setResult(err); setState('fail') },\n  }), [url])\n  return { result, state }\n}\n","\nexport default (url, option = {})=>{\n  if (!option.success){ option.success = (data)=>{ console.log(data) } }\n  if (!option.fail){ option.fail = (error)=>{ console.error(error) } }\n  let { success, fail } = option\n\n  const cancelFunc = ()=>{ success = ()=>{}; fail = ()=>{} }\n  const request = async ()=>{\n    try{\n      const response = await fetch(url, { method: 'GET', headers: { 'Content-Type': 'application/json' } })\n      if (!response.ok){\n        return fail({\n          code: response.status,\n          message: response.statusText,\n          time: new Date().toGMTString(),\n          url,\n        })\n      }\n      const data = await response.json()\n      success(data)\n    }catch(err){\n      fail({ message: err.message, url, time: new Date().toGMTString() })\n    }\n  }\n  request()\n  return cancelFunc\n}\n","\nimport React, { useEffect, useState, useContext } from 'react'\n\nconst RouterCtx = React.createContext(null)\n\nconst handleHash = ()=>{\n  let { hash } = window.location\n  if (!hash.startsWith('#!')){ return { page: 'index' } }\n  [hash] = hash.split('?')\n  hash = hash.slice(2, hash.length).split('/')\n  const page = hash.shift()\n  if (hash.length > 0 && hash[hash.length - 1] === ''){ hash.pop() }\n  return { page, param: hash }\n}\n\nconst Router = ({ children })=>{\n  const [route, setRoute] = useState(handleHash())\n  useEffect(()=>{\n    const updateRoute = ()=>setRoute(handleHash())\n    window.addEventListener('hashchange', updateRoute, false)\n    return ()=>window.removeEventListener('hashchange', updateRoute)\n  }, [])\n  return <RouterCtx.Provider value={route}>{ children }</RouterCtx.Provider>\n}\n\nconst useRoute = ()=>useContext(RouterCtx)\n\nexport default { Router, useRoute }\n","import React from 'react'\n\nexport default ({ error, title })=><div>\n  <div>{title}</div>\n  <pre>{JSON.stringify(error, null, 2)}</pre>\n</div>\n","\nimport React from 'react'\nimport styles from './index.module.css'\nimport banner from './banner.jpg'\n\nexport default ()=><div className={styles.head} style={{ backgroundImage: `url(${banner})` }}>\n  <h1>\n    <span>RPG制作大师</span>\n    授权素材推广计划\n  </h1>\n</div>\n","\nimport React from 'react'\n\nexport default ()=><>Loading...</>\n","\nimport React from 'react'\n\nconst Text = ({ param })=><>{param[0] ? <p>{param[0]}</p> : <br />}</>\n\nconst Link = ({ param })=>{\n  const name = param[0]\n  let url = param[1]\n  if (!name){ return null }\n  if (!url){ url = name }\n  return <p><a href={url} target=\"_blank\" rel=\"noopener noreferrer\">{name}</a></p>\n}\n\nconst List = ({ param })=><ul>\n  {param.map((content, key)=><li key={key}>{content}</li>)}\n</ul>\n\nconst RuleImage = ({ param })=><p><a href={`#!rule/${param[0]}`}>\n  <img alt={param[1]} src={`./media/rule/${param[2]}.jpg`} />\n</a></p>\n\nconst Main = ({ content })=>{\n  if (!content || !Array.isArray(content)){ return null }\n  return <>{content.map((line, key)=>{\n    if (!line){ return null }\n    const { type } = line\n    const param = line.param || []\n    if (type === 'text'){ return <Text key={key} param={param} /> }\n    if (type === 'link'){ return <Link key={key} param={param} /> }\n    if (type === 'list'){ return <List key={key} param={param} /> }\n    if (type === 'ruleImage'){ return <RuleImage key={key} param={param} /> }\n    return <p key={key}>Unknow type: {type}</p>\n  })}</>\n}\n\nexport default Main\n","\nimport React, { useReducer, useCallback, useContext } from 'react'\n\nexport default (reducerFunc)=>{\n  const reducer = (state, action)=>{\n    const func = reducerFunc[action.type]\n    if (func){ return func(state, action.data) }\n    throw new Error('Reducer Missing!')\n  }\n  const ReducerCtx = React.createContext(null)\n  const Component = ({ param, children })=>{\n    const [state, dispatch] = useReducer(reducer, param, (data)=>reducer(null, { type: 'init', data }))\n    const dispatchFunc = useCallback((type, data = {})=>{ dispatch({ type, data }) }, [dispatch])\n    return <ReducerCtx.Provider value={{ state, dispatch: dispatchFunc }}>\n      {children}\n    </ReducerCtx.Provider>\n  }\n  const useRedux = ()=>useContext(ReducerCtx)\n  return { Component, useRedux }\n}\n","\nimport { reducer } from '../../../common'\n\nconst func = {\n  init: (state, param)=>({\n    rule: param.rule,\n    richText: param.richText,\n  }),\n}\n\nconst { Component, useRedux } = reducer(func)\nexport { Component, useRedux }\n","\nimport React from 'react'\nimport { Header, Error, Loading } from '../component'\nimport { useAPI } from '../common'\nimport styles from './index.module.css'\n\nconst Site = ({ site })=><div className={styles.item}>\n  <a href={`#!site/${site.id}`} className={styles.title}>{site.name}</a>\n  <div>{site.category.map((c, i)=><p className={styles.tag} key={i}>{c}素材</p>)}</div>\n</div>\n\nexport default ()=>{\n  const site = useAPI('./api/site.json')\n  return <>\n    <Header />\n    <div className={styles.body}>\n      {site.state === 'fail' && <Error title=\"get site fail\" error={site.result} />}\n      {site.state === 'load' && <Loading />}\n      {site.state === 'success' && <>\n        {site.result.map((item)=><Site key={item.id} site={item} />)}\n      </>}\n    </div>\n  </>\n}\n","\nimport React, { useState, useCallback } from 'react'\nimport styles from './edit.module.css'\n\nconst Input = ({ title, value, onChange })=><div>\n  <div className={styles.inputTitle}>{title}</div>\n  <input className={styles.input} type=\"text\" value={value || ''} onChange={(e)=>onChange(e.target.value)} />\n</div>\n\nconst Main = ({ closeEdit, data: originData })=>{\n  const [edit, setEdit] = useState(true)\n  const [data, setData] = useState(()=>{\n    const delValue = { id: undefined, ruleParse: undefined }\n    return { ...originData, ...delValue }\n  })\n  const update = useCallback((key, value)=>{\n    setData((oldData)=>{\n      const changeValue = {}\n      changeValue[key] = value\n      return { ...oldData, ...changeValue }\n    })\n  }, [])\n  return <>\n    <div className={styles.button} onClick={closeEdit}>放弃编辑</div>\n    {edit && <>\n      <Input title=\"站长\" value={data.owner} onChange={(v)=>update('owner', v)} />\n      <Input title=\"站点地址\" value={data.url} onChange={(v)=>update('url', v)} />\n      <Input title=\"素材地址\" value={data.url2} onChange={(v)=>update('url2', v)} />\n      <Input title=\"规约原文\" value={data.url3} onChange={(v)=>update('url3', v)} />\n      <br />\n      <br />\n      <div className={styles.button} onClick={()=>setEdit(false)}>提交修改</div>\n    </>}\n    {!edit && <>\n      <div className={styles.button} onClick={()=>setEdit(true)}>继续编辑</div>\n      <textarea\n        className={styles.resultText}\n        value={JSON.stringify(data, null, 2)}\n        onClick={(e)=>e.target.select()}\n        readOnly\n      />\n      <a\n        className={styles.button}\n        href={`${process.env.REACT_APP_SITE_REPO_URL}/edit/master/site/${originData.id}.json`}\n        target=\"_blank\"\n        rel=\"noopener noreferrer\"\n      >提交到 Github</a>\n    </>}\n  </>\n}\n\nconst Button = ({ openEdit })=><div className={styles.button} onClick={openEdit}>编辑文章</div>\n\nexport default { Main, Button }\n","\nimport React, { useState } from 'react'\nimport { Header, Error, Loading, Detail } from '../component'\nimport { useAPI } from '../common'\nimport Edit from './edit'\nimport styles from './index.module.css'\n\nconst Main = ({ data })=><div>\n  {data.logo && <div><img src={`./media/site/${data.logo}`} alt=\"logo\" /></div>}\n  <p>站点名称：{data.name}</p>\n  <p>站长：{data.owner}</p>\n  <p>站点地址：<a href={data.url} target=\"_blank\" rel=\"noopener noreferrer\">{data.url}</a></p>\n  <p>语言：{data.language.join('、')}</p>\n  <p>墙？：{data.gfw ? '有' : '无'}</p>\n  <p>素材内容：{data.category.map((c)=>`${c}素材`).join('、')}</p>\n  <p>素材地址：<a href={data.url2} target=\"_blank\" rel=\"noopener noreferrer\">{data.url2}</a></p>\n  <p>素材利用规约：</p>\n  <div>\n    <p>原文：<a href={data.url3} target=\"_blank\" rel=\"noopener noreferrer\">{data.url3}</a></p>\n    <Detail content={data.ruleParse} />\n    <p>（翻译By {data.author} 确认时间 {data.updateTime}）</p>\n  </div>\n  {data.comment.length > 0 && <>\n    <p>备注：</p>\n    <Detail content={data.comment} />\n  </>}\n</div>\n\nconst Content = ({ data })=>{\n  const [edit, setEdit] = useState(false)\n  if (edit){ return <Edit.Main closeEdit={()=>setEdit(false)} data={data} /> }\n  return <>\n    <Main data={data} />\n    <Edit.Button openEdit={()=>setEdit(true)} />\n  </>\n}\n\nconst Body = ({ id })=>{\n  const site = useAPI(`./api/site/${id}.json`)\n  return <div>\n    <Header />\n    <div className={styles.body}>\n      {site.state === 'fail' && <Error title=\"get site fail\" error={site.result} />}\n      {site.state === 'load' && <Loading />}\n      {site.state === 'success' && <Content data={site.result} />}\n    </div>\n  </div>\n}\n\nexport default ({ id })=>{\n  if (!id){ return null }\n  return <Body id={id} />\n}\n","\nimport React from 'react'\nimport { Header, Error, Detail, Loading } from '../component'\nimport { useAPI } from '../common'\nimport styles from './index.module.css'\n\nconst Rule = ({ rule })=>{\n  if (!rule){ return null }\n  return <div>\n    <h3>{rule.name}</h3>\n    <img src={`./media/rule/${rule.image}.jpg`} alt={rule.name} />\n    <div><Detail content={rule.detailParse} /></div>\n  </div>\n}\n\nconst RuleMain = ({ id })=>{\n  const rule = useAPI(`./api/rule/${id}.json`)\n  return <>\n    <Header />\n    <div className={styles.body}>\n      {rule.state === 'fail' && <Error title=\"get site fail\" error={rule.result} />}\n      {rule.state === 'load' && <Loading />}\n      {rule.state === 'success' && <Rule rule={rule.result} />}\n      <a href={`${process.env.REACT_APP_SITE_REPO_URL}/edit/master/rule/${id}.json`} target=\"_blank\" rel=\"noopener noreferrer\">在 github 上编辑</a>\n    </div>\n  </>\n}\n\nexport default ({ id })=>{\n  if (!id){ return null }\n  return <RuleMain id={id} />\n}\n","\nimport React, { useState } from 'react'\nimport { Header, Error, Loading } from '../component'\nimport { useAPI, router } from '../common'\nimport styles from './index.module.css'\n\nconst List = ({ data })=>{\n  const [category, setCategory] = useState('3e26fe_')\n  return <div>\n    <div className={styles.listTab}>\n      <div onClick={()=>setCategory('3b5924_')}>主站</div>\n      <div onClick={()=>setCategory('3e26fe_')}>仓库</div>\n    </div>\n    <div className={styles.listMain}>{data.map((post)=>{\n      if (!post.permalink.startsWith(category)){ return null }\n      return <p key={post.permalink}><a href={`#!temp/${post.permalink}`}>\n        {post.title}\n      </a></p>\n    })}</div>\n  </div>\n}\n\nconst Content = ({ data, id })=>{\n  if (!id){ return null }\n  const post = data.find((item)=>item.permalink === id)\n  if (!post){ return null }\n  return <div dangerouslySetInnerHTML={{ __html: post.content }} /> // eslint-disable-line\n}\n\nconst Body = ({ data })=>{\n  const route = router.useRoute()\n  return <div className={styles.main}>\n    <div className={styles.list}><List data={data} /></div>\n    <div className={styles.content}><Content data={data} id={route.param[0]} /></div>\n  </div>\n}\n\nexport default ()=>{\n  const data = useAPI(process.env.REACT_APP_TEMP_DATA_URL)\n  return <>\n    <Header />\n    <div className={styles.body}>\n      {data.state === 'fail' && <Error title=\"get site fail\" error={data.result} />}\n      {data.state === 'load' && <Loading />}\n      {data.state === 'success' && <Body data={data.result} />}\n    </div>\n  </>\n}\n","\nimport React from 'react'\nimport { router } from './common'\nimport ListPage from './list'\nimport SitePage from './site'\nimport RulePage from './rule'\nimport TempPage from './temp'\n\nconst App = ()=>{\n  const route = router.useRoute()\n  if (route.page === 'index'){ return <ListPage page={1} /> }\n  if (route.page === 'list'){ return <ListPage page={route.param[0]} /> }\n  if (route.page === 'site'){ return <SitePage id={route.param[0]} /> }\n  if (route.page === 'rule'){ return <RulePage id={route.param[0]} /> }\n  if (route.page === 'temp'){ return <TempPage param={route.param} /> }\n  return null\n}\n\nexport default ()=><React.StrictMode>\n  <router.Router><App /></router.Router>\n</React.StrictMode>\n","\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport app from './app';\n\nReactDOM.render(app(), document.getElementById('root'))\n"],"sourceRoot":""}